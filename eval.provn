document
  default <https://gitlab.ics.muni.cz/422328/pid-test/-/blob/master/>
  prefix fi_muni <https://gitlab.ics.muni.cz/422328/pid-test/-/blob/master/provn/>
  prefix mmci <https://gitlab.ics.muni.cz/422328/pid-mmci/-/blob/master/output/provn_pid/provn/>
  prefix doi <https://doi.org/10.58092/>
  prefix cpm <https://www.commonprovenancemodel.org/cpm-namespace-v1-0/>
  prefix repr <https://w3id.org/reproduceme#>

  bundle fi_muni:train.provn
    entity(doi:trainedModelConnector, [prov:type='cpm:backwardConnector', cpm:senderBundleId='fi_muni:train.provn'])
    entity(doi:evalTilesConnector, [prov:type='cpm:backwardConnector', cpm:senderBundleId='fi_muni:preprocEval.provn'])
    entity(doi:evalDataConnector, [prov:type='cpm:forwardConnector'])
    agent(researchDataCentre, [prov:type='cpm:senderAgent'])
    activity(evaluation, -, -, [prov:type='cpm:mainActivity', repr:hasPart="heatmapGeneration", repr:hasPart="eval"])
    wasAttributedTo(doi:trainedModelConnector, researchDataCentre)
    wasAttributedTo(doi:evalTilesConnector, researchDataCentre)
    used(evaluation, doi:trainedModelConnector, -)
    used(evaluation, doi:evalTilesConnector, -)
    wasGeneratedBy(doi:evalDataConnector, evaluation, -)
    wasDerivedFrom(doi:evalDataConnector, doi:trainedModelConnector, -, -, -)
    wasDerivedFrom(doi:evalDataConnector, doi:evalTilesConnector, -, -, -)

    entity(trainedModel)
    specializationOf(trainedModel, doi:trainedModelConnector)
    entity(evalTiles, [prov:type='repr:Dataset'])
    specializationOf(evalTiles, doi:evalTilesConnector)
    activity(heatmapGeneration)
    used(heatmapGeneration, evalTiles, -)
    used(heatmapGeneration, trainedModel, -)

    entity(configFileHeatmaps1, [path="mlflow-artifacts:/4/0b402fdaf63e4a7b9ee6a5cfb1c93c77/artifacts/conf/config_resolved.yaml"])
    entity(configHeatmaps1, [])
    wasDerivedFrom(configHeatmaps1, configFileHeatmaps1, -, -, -)
    entity(heatmaps1, [prov:type='repr:Dataset', path="mlflow-artifacts:/4/0b402fdaf63e4a7b9ee6a5cfb1c93c77/artifacts/test_heatmaps"])
    wasGeneratedBy(heatmaps1, heatmapGeneration, -)
    wasDerivedFrom(heatmaps1, evalTiles, -, -, -)
    wasDerivedFrom(heatmaps1, trainedModel, -, -, -)
    wasDerivedFrom(heatmaps1, configHeatmaps1, -, -, -)

    entity(configFileHeatmaps2, [path="mlflow-artifacts:/4/9fae5ffaaa1148f287757827daf9af7e/artifacts/conf/config_resolved.yaml"])
    entity(configHeatmaps2, [])
    wasDerivedFrom(configHeatmaps2, configFileHeatmaps2, -, -, -)
    entity(heatmaps2, [prov:type='repr:Dataset', path="mlflow-artifacts:/4/9fae5ffaaa1148f287757827daf9af7e/artifacts/test_heatmaps"])
    wasGeneratedBy(heatmaps2, heatmapGeneration, -)
    wasDerivedFrom(heatmaps2, evalTiles, -, -, -)
    wasDerivedFrom(heatmaps2, trainedModel, -, -, -)
    wasDerivedFrom(heatmaps2, configHeatmaps2, -, -, -)

    entity(configFileHeatmaps3, [path="mlflow-artifacts:/4/50643d978335412591f42c970dd5b2b2/artifacts/conf/config_resolved.yaml"])
    entity(configHeatmaps3, [])
    wasDerivedFrom(configHeatmaps3, configFileHeatmaps3, -, -, -)
    entity(heatmaps3, [prov:type='repr:Dataset', path="mlflow-artifacts:/4/50643d978335412591f42c970dd5b2b2/artifacts/test_heatmaps"])
    wasGeneratedBy(heatmaps3, heatmapGeneration, -)
    wasDerivedFrom(heatmaps3, evalTiles, -, -, -)
    wasDerivedFrom(heatmaps3, trainedModel, -, -, -)
    wasDerivedFrom(heatmaps3, configHeatmaps3, -, -, -)

    activity(eval)
    used(eval, heatmaps1, -)
    used(eval, heatmaps2, -)
    used(eval, heatmaps3, -)
    entity(evalData)
    wasGeneratedBy(evalData, eval, -)
    wasDerivedFrom(evalData, heatmaps1, -, -, -)
    wasDerivedFrom(evalData, heatmaps2, -, -, -)
    wasDerivedFrom(evalData, heatmaps3, -, -, -)
    specializationOf(evalData, doi:evalDataConnector)
  endBundle
endDocument